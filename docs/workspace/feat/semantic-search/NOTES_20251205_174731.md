# NOTES_20251205_174731

## ファイル・クラス・メソッドのリネーム

命名の一貫性を改善するため、以下のリネームを実施。

| 変更前 | 変更後 |
|--------|--------|
| `cache.py` | `embedding_cache.py` |
| `indexer.py` | `embedding_indexer.py` |
| `Indexer` クラス | `EmbeddingIndexer` |
| `EmbeddingCache.get_all_embeddings()` | 削除（`get_all()` に統合） |

理由:

- `embedding_` プレフィックスで責務を明確化
- `get_all_embeddings()` は `get_all()` と重複していた（テストでのみ使用）

## EmbeddingModel.encode() のシンプル化

変更前:

```python
def encode(self, text: str | list[str]) -> np.ndarray:
    ...

def encode_batch(self, texts: list[str]) -> np.ndarray:
    ...
```

変更後:

```python
def encode(self, text: str) -> np.ndarray:
    ...
```

理由:

- 実際の使用箇所（embedding_indexer.py、query.py）は全て単一文字列
- `encode_batch` はテストでのみ使用されていた
- YAGNI: 必要になったら拡張すればよい

テストも `test_encode_batch` を削除、`test_encode_single_text` を `test_encode` にリネーム。
